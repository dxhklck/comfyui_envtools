<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ComfyUI环境维护小工具使用教程</title>
    <style>
        /* 暗色调主题 */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #2a2d34;
            color: #d1d1d1;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        
        /* 容器样式 */
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #33363d;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        
        /* 标题样式 */
        h1 {
            color: #4fa9ff;
            border-bottom: 2px solid #4fa9ff;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        h2 {
            color: #4fa9ff;
            border-bottom: 1px solid #4fa9ff;
            padding-bottom: 8px;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        h3 {
            color: #4fa9ff;
            margin-top: 25px;
            margin-bottom: 12px;
        }
        
        /* 段落样式 */
        p {
            margin-bottom: 15px;
        }
        
        /* 列表样式 */
        ul, ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* 代码块样式 */
        code {
            background-color: #2a2d34;
            color: #4fa9ff;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        pre {
            background-color: #2a2d34;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin-bottom: 15px;
        }
        
        pre code {
            background-color: transparent;
            padding: 0;
        }
        
        /* 强调样式 */
        strong {
            color: #4fa9ff;
            font-weight: bold;
        }
        
        /* 功能说明和使用方法样式 */
        .section {
            margin-bottom: 25px;
            padding: 15px;
            background-color: #3a3d44;
            border-radius: 6px;
        }
        
        .section-title {
            color: #4fa9ff;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        /* 表格样式 */
        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 15px;
        }
        
        th, td {
            border: 1px solid #444;
            padding: 8px;
            text-align: left;
        }
        
        th {
            background-color: #3a3d44;
            color: #4fa9ff;
        }
        
        /* 版本日志样式 */
        .version {
            margin-bottom: 15px;
            padding: 12px;
            background-color: #3a3d44;
            border-radius: 6px;
        }
        
        .version-title {
            color: #4fa9ff;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        /* 注意事项样式 */
        .note {
            background-color: #3a3d44;
            padding: 15px;
            border-left: 4px solid #4fa9ff;
            border-radius: 0 6px 6px 0;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ComfyUI环境维护小工具使用教程</h1>
        
        <h2>1. 程序简介</h2>
        <p>ComfyUI环境维护小工具是一个用于管理ComfyUI环境的图形化工具，支持多Python环境管理、插件依赖管理、第三方库管理、版本管理等功能。</p>
        
        <h2>2. 主要功能模块</h2>
        
        <h3>2.1 国内源和Python环境</h3>
        <div class="section">
            <div class="section-title">功能说明</div>
            <ul>
                <li>支持选择国内PyPI镜像源（阿里云、清华大学、中科技、豆瓣、华为云、腾讯云）</li>
                <li>支持添加、删除和切换Python环境</li>
                <li>支持镜像源测速，自动选择最快的镜像源</li>
            </ul>
        </div>
        <div class="section">
            <div class="section-title">使用方法</div>
            <ol>
                <li>从下拉列表中选择镜像源，或点击下拉框自动测速并选择最快的镜像源</li>
                <li>点击"添加"按钮选择Python环境（python.exe）</li>
                <li>点击"删除"按钮删除当前选择的Python环境</li>
                <li>从下拉列表中选择要使用的Python环境</li>
            </ol>
        </div>
        
        <h3>2.2 插件维护</h3>
        <div class="section">
            <div class="section-title">功能说明</div>
            <ul>
                <li>支持选择CustomNodes目录</li>
                <li>支持检测依赖文件</li>
                <li>支持手动添加依赖文件</li>
                <li>支持Git克隆插件</li>
                <li>支持检测和更新插件</li>
            </ul>
        </div>
        <div class="section">
            <div class="section-title">使用方法</div>
            <ol>
                <li>点击"浏览"按钮选择CustomNodes目录</li>
                <li>点击"删除"按钮删除当前选择的CustomNodes目录</li>
                <li>从"依赖列表"下拉框中选择要检查的依赖文件</li>
                <li>点击"检测依赖"按钮检测依赖是否已安装</li>
                <li>点击"手动添加"按钮选择requirements.txt文件并添加到依赖列表</li>
                <li>在"插件地址"输入框中输入Git仓库地址，点击"安装插件"按钮克隆插件</li>
                <li>点击"检测更新"按钮检测插件是否有更新</li>
                <li>点击"更新插件"按钮更新插件</li>
            </ol>
        </div>
        
        <h3>2.3 ComfyUI环境操作</h3>
        <div class="section">
            <div class="section-title">功能说明</div>
            <ul>
                <li>支持依赖情况检查</li>
                <li>支持模拟安装依赖</li>
                <li>支持实际安装依赖</li>
                <li>支持查找依赖冲突</li>
                <li>支持比较环境</li>
                <li>支持查看当前环境</li>
                <li>支持环境迁移</li>
                <li>支持环境备份和还原</li>
            </ul>
        </div>
        <div class="section">
            <div class="section-title">使用方法</div>
            <ol>
                <li>勾选"跳过已安装检测"选项，可跳过已安装的依赖检测</li>
                <li>点击"依赖情况"按钮查看依赖安装情况</li>
                <li>点击"模拟安装"按钮模拟安装依赖，不实际安装</li>
                <li>点击"实际安装"按钮实际安装依赖</li>
                <li>点击"查找冲突"按钮查找依赖冲突</li>
                <li>点击"比较环境"按钮比较不同环境的差异</li>
                <li>点击"查看环境"按钮查看当前环境的包列表</li>
                <li>点击"环境迁移"按钮迁移环境</li>
                <li>点击"环境备份"按钮备份环境文件</li>
                <li>点击"目录还原"按钮还原环境文件</li>
                <li>点击"库列表还原"按钮从环境列表还原</li>
            </ol>
        </div>
        
        <h3>2.4 第三方库管理</h3>
        <div class="section">
            <div class="section-title">功能说明</div>
            <ul>
                <li>支持精准查找库</li>
                <li>支持模糊查找库</li>
                <li>支持安装、卸载库</li>
                <li>支持轮子安装</li>
                <li>支持编译安装</li>
                <li>支持查找含库名的插件</li>
            </ul>
        </div>
        <div class="section">
            <div class="section-title">使用方法</div>
            <ol>
                <li>在"环境库名"输入框中输入库名</li>
                <li>点击"精准查找"按钮查找指定库的详细信息</li>
                <li>点击"模糊查找"按钮在本地环境中模糊查找库</li>
                <li>从"版本号"下拉列表中选择版本号</li>
                <li>点击"安装库"按钮安装指定版本的库</li>
                <li>点击"删除库"按钮删除当前选择的库</li>
                <li>点击"轮子安装"按钮安装本地whl文件</li>
                <li>点击"编译安装"按钮从源码编译安装</li>
                <li>点击"含库名插件"按钮查找包含指定库的插件</li>
                <li>点击"清空信息"按钮清空结果区域</li>
            </ol>
        </div>
        
        <h3>2.5 Python手动执行命令和CMD其他命令</h3>
        <div class="section">
            <div class="section-title">功能说明</div>
            <ul>
                <li>支持执行Python命令</li>
                <li>支持执行CMD命令</li>
                <li>支持命令历史记录</li>
            </ul>
        </div>
        <div class="section">
            <div class="section-title">使用方法</div>
            <ol>
                <li>在"CMD:"输入框中输入要执行的命令</li>
                <li>点击"命令执行"按钮执行命令</li>
                <li>点击"参数说明"按钮查看pip参数说明</li>
                <li>支持使用方向键上下浏览命令历史</li>
            </ol>
        </div>
        
        <h3>2.6 ComfyUI便捷版_版本维护</h3>
        <div class="section">
            <div class="section-title">功能说明</div>
            <ul>
                <li>支持选择ComfyUI目录</li>
                <li>支持查看Git仓库信息</li>
                <li>支持切换ComfyUI版本</li>
                <li>支持刷新版本列表</li>
            </ul>
        </div>
        <div class="section">
            <div class="section-title">使用方法</div>
            <ol>
                <li>点击"浏览"按钮选择ComfyUI目录</li>
                <li>点击"管理"按钮打开版本管理窗口</li>
                <li>在版本管理窗口中，查看Git仓库信息</li>
                <li>从版本列表中选择要切换的版本，点击对应的单选按钮</li>
                <li>点击"刷新"按钮刷新版本列表</li>
                <li>点击"关闭"按钮关闭版本管理窗口</li>
            </ol>
        </div>
        
        <h2>3. 常见问题解答</h2>
        
        <h3>3.1 如何添加Python环境？</h3>
        <p>在"国内源和Python环境"区域，点击"添加"按钮，选择python.exe文件即可添加Python环境。</p>
        
        <h3>3.2 如何检测插件依赖？</h3>
        <ol>
            <li>在"插件维护"区域，点击"浏览"按钮选择CustomNodes目录</li>
            <li>从"依赖列表"下拉框中选择要检查的依赖文件</li>
            <li>点击"检测依赖"按钮，等待检测结果</li>
        </ol>
        
        <h3>3.3 如何查找依赖冲突？</h3>
        <p>在"ComfyUI环境操作"区域，点击"查找冲突"按钮，等待冲突检查结果。</p>
        
        <h3>3.4 如何安装第三方库？</h3>
        <p>在"第三方库管理"区域，输入库名和版本号，点击"安装库"按钮即可安装。</p>
        
        <h3>3.5 如何切换ComfyUI版本？</h3>
        <ol>
            <li>在"ComfyUI便捷版_版本维护"区域，选择ComfyUI目录</li>
            <li>点击"管理"按钮打开版本管理窗口</li>
            <li>从版本列表中选择要切换的版本，点击对应的单选按钮</li>
            <li>等待版本切换完成</li>
        </ol>
        
        <h2>4. 联系信息</h2>
        <ul>
            <li>版本：ver2.5.2</li>
            <li>QQ群：723799422</li>
            <li>作者：练老师</li>
        </ul>
        
        <h2>5. 更新日志</h2>
        <div class="version">
            <div class="version-title">ver2.5.2</div>
            <ul>
                <li>修复了版本列表显示顺序问题，确保从最近的版本开始显示</li>
                <li>优化了版本排序逻辑，正确处理不同长度的版本号</li>
                <li>添加了帮助文档功能</li>
            </ul>
        </div>
        <div class="version">
            <div class="version-title">ver2.5.1</div>
            <ul>
                <li>修复了部分功能的bug</li>
                <li>优化了界面布局</li>
                <li>提高了程序稳定性</li>
            </ul>
        </div>
        
        <h2>6. 注意事项</h2>
        <div class="note">
            <ol>
                <li>请确保Git命令已安装，否则版本管理功能无法使用</li>
                <li>请确保Python环境配置正确，否则部分功能可能无法正常使用</li>
                <li>操作前请备份重要数据，避免数据丢失</li>
                <li>使用管理员权限运行程序，可避免部分权限问题</li>
                <li>程序会在关闭时自动保存配置，下次启动时自动加载</li>
            </ol>
        </div>
        
        <h2>7. 快捷键</h2>
        <ul>
            <li>Enter：在库名输入框中按Enter键，执行精准查找</li>
            <li>方向键上下：浏览命令历史</li>
        </ul>
        
        <h2>8. 技术支持</h2>
        <p>如果您在使用过程中遇到问题，请加入QQ群723799422获取技术支持。</p>
    </div>
</body>
</html>